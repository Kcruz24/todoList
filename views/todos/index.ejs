<%- layout("./layout/boilerplate") %>

<section class="section">
    <div class="container column is-two-fifths">

        <h1 class="title has-text-white">To-Do List</h1>

        <div class="box has-background-grey-light">
            <form action="/todos" method="POST">
                <input class="input" type="text" placeholder="New Todo" name="data" id="data">
            </form>

        </div>

        <div class="box has-background-info">
            <% for (let todo of todos) { %>
            <div class="columns is-mobile">

                <div class="column">
                    <form action="/todos/<%= todo._id %>?_method=PUT" method="POST">
                        <div class="block">
                            <input class="input" type="text" name="data" id="data" value="<%= todo.data %>">
                        </div>
                    </form>
                </div>

                <div class="block mt-4">
                    <form action="/todos/<%=todo._id%>?_method=DELETE" method="POST">
                        <button class="button box has-background-danger has-text-white mr-2">Delete</button>
                    </form>
                </div>
            </div>
            <% } %>
        </div>
    </div>
</section>

<script>
    function submitForm() {
        let form = document.querySelector("/todos");

        // form.submit();

        alert("hola");
    }
</script>